<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>七年级数学上册，角的和差，课本习题</title>
    <style>
        body {
            font-family: "Microsoft YaHei", sans-serif;
            text-align: center;
            margin: 20px;
        }
        .title {
            font-size: 28px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }
        .author {
            font-size: 20px;
            color: #666;
            margin-bottom: 40px;
        }
        .desc {
            font-size: 18px;
            color: #444;
            margin: 30px 0;
        }
        .key-point {
            color: #e74c3c;
            font-weight: bold;
        }
        .control {
            margin: 40px 0;
        }
        input[type="range"] {
            width: 400px;
            height: 8px;
            margin: 0 15px;
        }
        .angle-value {
            font-size: 18px;
            font-weight: bold;
            color: #2c3e50;
        }
        .angle-container {
            width: 600px;
            height: 350px;
            margin: 30px auto;
            position: relative;
            border: 2px solid #ddd;
            border-radius: 8px;
        }
        .angle-base {
            position: absolute;
            top: 200px;
            left: 150px;
            width: 250px;
            height: 3px;
            background: #333;
            z-index: 15;
        }
        .angle {
            position: absolute;
            top: 200px;
            left: 150px;
            width: 250px;
            height: 3px;
            transform-origin: left center;
            transition: transform 0.3s ease;
            z-index: 15;
        }
        .angle1 {
            background: #e74c3c;
            height: 4px;
        }
        .angle2 {
            background: #3498db;
            height: 4px;
        }
        .angle-label {
            position: absolute;
            font-size: 18px;
            font-weight: bold;
            padding: 3px 8px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 4px;
            z-index: 10;
            transform: translate(-50%, -50%); /* 确保文本正向显示 */
        }
        .angle-arc {
            position: absolute;
            transform-origin: left center;
            transition: transform 0.3s ease;
        }
        .angle-bisector {
            position: absolute;
            top: 200px;
            left: 150px;
            width: 150px;
            height: 2px;
            border: none;
            border-top: 2px dashed white;
            transform-origin: left center;
            transition: transform 0.3s ease;
            z-index: 5;
            opacity: 1; /* 显示白色虚线角平分线 */
        }
        .label1 {
            color: #3498db;
        }
        .label2 {
            color: #e74c3c;
        }
        .sum-tip {
            position: absolute;
            top: 80px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 18px;
            color: #27ae60;
            font-weight: bold;
            background: #f8f9fa;
            padding: 8px 16px;
            border-radius: 6px;
            border: 1px solid #27ae60;
        }
    </style>
</head>
<body>
    <div class="title">七年级数学上册，角的和差，课本习题</div>
    <div class="author">作者：黄权锋</div>
    <div class="desc">当两个角的和为<span class="key-point">180°</span>时，这两个角互为<span class="key-point">补角</span>，一角变化则另一角同步反向变化</div>

    <div class="control">
        调节∠1大小：<span class="angle-value" id="angle1Val">75°</span><input type="range" id="angleSlider" min="0" max="180" value="75">
        | ∠2大小：<span class="angle-value" id="angle2Val">105°</span>
    </div>

    <div class="angle-container">
        <div class="angle-base"></div>
        <div class="angle angle1" id="angle1"></div>
        <div class="angle angle2" id="angle2"></div>
        <div class="angle-bisector" id="bisector1"></div>
        <div class="angle-bisector" id="bisector2"></div>
        <div class="angle-label label1" id="label1">∠1</div>
        <div class="angle-label label2" id="label2">∠2</div>
        <div class="sum-tip" id="sumTip">∠1 + ∠2 = 180°（互为补角）</div>
    </div>

    <script>
        const slider = document.getElementById('angleSlider');
        const angle1Val = document.getElementById('angle1Val');
        const angle2Val = document.getElementById('angle2Val');
        const angle1 = document.getElementById('angle1');
        const angle2 = document.getElementById('angle2');
        const label1 = document.getElementById('label1');
        const label2 = document.getElementById('label2');
        const bisector1 = document.getElementById('bisector1');
        const bisector2 = document.getElementById('bisector2');

        let angle1Deg = 75;
        let angle2Deg = 105;

        function updateAngles() {
            angle1Val.textContent = `${angle1Deg}°`;
            angle2Val.textContent = `${angle2Deg}°`;
            angle1.style.transform = `rotate(${angle1Deg}deg)`;
            angle2.style.transform = `rotate(-${angle2Deg}deg)`;
            
            // 蓝线与黑线夹角的角平分线
            bisector1.style.transform = `rotate(${-angle2Deg / 2}deg)`;
            
            // 红线与黑线夹角的角平分线
            bisector2.style.transform = `rotate(${angle1Deg / 2}deg)`;
            
            // 计算角标签的位置
            const vertexX = 150; // 顶点X坐标
            const vertexY = 200; // 顶点Y坐标
            const distanceFromVertex = 40; // 距离顶点的距离（从20调整为40）
            
            // 计算∠1标签位置（红线与黑线夹角）
            const midAngle1 = angle1Deg / 2;
            const rad1 = midAngle1 * Math.PI / 180;
            const point1X = vertexX + distanceFromVertex * Math.cos(rad1);
            const point1Y = vertexY + distanceFromVertex * Math.sin(rad1);
            
            // 计算∠2标签位置（蓝线与黑线夹角）
            const midAngle2 = -angle2Deg / 2;
            const rad2 = midAngle2 * Math.PI / 180;
            const point2X = vertexX + distanceFromVertex * Math.cos(rad2);
            const point2Y = vertexY + distanceFromVertex * Math.sin(rad2);
            
            // 设置角标签位置
            label1.style.left = `${point1X}px`;
            label1.style.top = `${point1Y}px`;
            label2.style.left = `${point2X}px`;
            label2.style.top = `${point2Y}px`;
        }

        slider.addEventListener('input', function() {
            angle1Deg = parseInt(this.value);
            angle2Deg = 180 - angle1Deg;
            updateAngles();
        });

        updateAngles();
        window.addEventListener('resize', updateAngles);
    </script>
</body>
</html>
