
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>三滑动条控制圆心角重合演示</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft YaHei", sans-serif;
        }

        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 2vw 5vw;
            min-height: 100vh;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            color: #ffffff;
        }

        h1 {
            color: #00ffff;
            margin-bottom: 2vw;
            font-size: clamp(2rem, 6vw, 3rem);
            text-align: center;
            text-shadow: 0 0 10px #00ffff, 0 0 20px #00ffff;
            font-weight: bold;
        }

        .container {
            position: relative;
            width: 100%;
            max-width: 500px;
            aspect-ratio: 1/1;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.2);
            margin-bottom: 2vw;
            border: 2px solid #00ffff;
        }

        #circle {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            height: 80%;
            border: 2px solid #00ffff;
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
        }

        .point {
            position: absolute;
            transform: translate(-50%, -50%);
            z-index: 10;
            border-radius: 50%;
            width: clamp(8px, 2vw, 14px);
            height: clamp(8px, 2vw, 14px);
        }

        .point::after {
            content: attr(data-label);
            position: absolute;
            font-size: clamp(18px, 2.5vw, 24px);
            font-weight: bold;
            white-space: nowrap;
            z-index: 15;
            transform: none;
        }

        /* A点标签放在右边 */
        #pointA::after {
            color: #ff00ff;
            text-shadow: 0 0 5px #ff00ff;
            left: 120%;
            top: 50%;
            transform: translateY(-50%);
        }

        /* B点标签放在正下方 */
        #pointB::after {
            color: #ff00ff;
            text-shadow: 0 0 5px #ff00ff;
            top: 120%;
            left: 50%;
            transform: translateX(-50%);
        }

        /* C点和D点标签放在正下方 */
        #pointC::after, #pointD::after {
            color: #ffff00;
            text-shadow: 0 0 5px #ffff00;
            top: 120%;
            left: 50%;
            transform: translateX(-50%);
        }

        #center {
            background-color: #2c3e50;
        }

        /* 蓝色组圆心角∠AOB - 位置固定，角度可调 */
        #pointA, #pointB {
            background-color: #ff00ff;
            box-shadow: 0 0 5px #ff00ff;
        }

        /* 绿色组圆心角∠COD - 角度、位置均可调 */
        #pointC, #pointD {
            background-color: #ffff00;
            box-shadow: 0 0 5px #ffff00;
        }

        .line {
            position: absolute;
            height: 3px;
            transform-origin: left center;
            z-index: 5;
        }

        .radius {
            background-color: #00ffff;
        }

        .chord {
            z-index: 7;
        }
        .chord-blue {
            background-color: #ff00ff;
        }
        .chord-green {
            background-color: #ffff00;
            opacity: 0.9;
        }

        .arc {
            position: absolute;
            border-radius: 50%;
            z-index: 6;
        }
        .arc-blue {
            border: clamp(2px, 1vw, 3px) solid #ff00ff;
        }
        .arc-green {
            border: clamp(2px, 1vw, 3px) solid #ffff00;
            opacity: 0.9;
        }

        /* 三滑动条区域 */
        .slider-wrap {
            width: 100%;
            max-width: 800px;
            display: flex;
            flex-wrap: wrap;
            gap: 1.5vw;
            margin-bottom: 2vw;
            align-items: center;
            justify-content: center;
            padding: 2vw;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 12px;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
            border: 1px solid #00ffff;
        }

        .slider-group {
            display: flex;
            align-items: center;
            gap: 1vw;
            flex: 1 0 100%;
            min-width: 300px;
        }

        .slider-label {
            font-size: clamp(1rem, 2.5vw, 1.3rem);
            color: #00ffff;
            min-width: 120px;
            text-align: center;
            font-weight: bold;
            text-shadow: 0 0 5px #00ffff;
        }

        input[type="range"] {
            width: clamp(150px, 40vw, 250px);
            height: 10px;
            accent-color: #ffff00;
            cursor: pointer;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 5px;
            outline: none;
            step: 0.5;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #ffff00;
            cursor: pointer;
            box-shadow: 0 0 15px #ffff00;
            border: 2px solid #fff;
        }
        
        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #ffff00;
            cursor: pointer;
            box-shadow: 0 0 15px #ffff00;
            border: 2px solid #fff;
        }
        
        input[type="number"] {
            width: 80px;
            padding: 8px;
            background: rgba(0, 0, 0, 0.7);
            border: 1px solid #00ffff;
            border-radius: 6px;
            color: #00ffff;
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            text-align: center;
            -moz-appearance: textfield;
        }
        
        input[type="number"]::-webkit-inner-spin-button,
        input[type="number"]::-webkit-outer-spin-button {
            -webkit-appearance: inner-spin-button;
            opacity: 1;
            background: rgba(0, 255, 255, 0.2);
            width: 20px;
            height: 30px;
        }
        
        input[type="number"]:focus {
            outline: none;
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
            border-color: #ffff00;
        }

        .info {
            margin-top: 0.5vw;
            width: 100%;
            max-width: 800px;
            font-size: clamp(1.1rem, 3.5vw, 1.5rem);
            color: #ffffff;
            text-align: center;
            background: rgba(0, 0, 0, 0.5);
            padding: 2vw;
            border-radius: 12px;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
            border: 1px solid #00ffff;
        }

        .info p {
            margin: 0.8rem 0;
            font-weight: 500;
        }

        .match-tip {
            font-weight: bold;
            font-size: clamp(1.2rem, 4vw, 1.6rem);
            text-shadow: 0 0 10px currentColor;
        }

        .theorem {
            margin-top: 1.5rem;
            margin-bottom: 1.5rem;
            font-size: clamp(1.1rem, 3vw, 1.4rem);
            color: #ffff00;
            background: rgba(0, 0, 0, 0.7);
            padding: 2vw;
            border-radius: 12px;
            box-shadow: 0 0 20px rgba(255, 255, 0, 0.3);
            border: 2px solid #ffff00;
            text-align: center;
            max-width: 800px;
            font-weight: bold;
        }

        .theorem-title {
            color: #00ffff;
            font-size: clamp(1.2rem, 3.5vw, 1.6rem);
            margin-bottom: 1rem;
            text-shadow: 0 0 10px #00ffff;
        }

        .tip {
            margin-top: 1.5rem;
            font-size: clamp(1rem, 2.5vw, 1.3rem);
            color: #00ffff;
            background: rgba(0, 0, 0, 0.5);
            padding: 1.5vw;
            border-radius: 8px;
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.2);
            border: 1px solid rgba(0, 255, 255, 0.5);
            text-align: center;
            max-width: 800px;
        }
    </style>
</head>
<body>
    <h1>三滑动条控制圆心角重合演示</h1>
    <!-- 图形容器 -->
    <div class="container">
        <div id="circle"></div>
        <div class="point" id="center"></div>
        <!-- 蓝色组∠AOB -->
        <div class="point" id="pointA"></div>
        <div class="point" id="pointB"></div>
        <div class="line radius" id="lineOA"></div>
        <div class="line radius" id="lineOB"></div>
        <div class="line chord chord-blue" id="chordAB"></div>
        <div class="arc arc-blue" id="arcAB"></div>
        <!-- 绿色组∠COD -->
        <div class="point" id="pointC"></div>
        <div class="point" id="pointD"></div>
        <div class="line radius" id="lineOC"></div>
        <div class="line radius" id="lineOD"></div>
        <div class="line chord chord-green" id="chordCD"></div>
        <div class="arc arc-green" id="arcCD"></div>
    </div>
    <!-- 三滑动条区域 -->
    <div class="slider-wrap">
        <div class="slider-group">
            <span class="slider-label">蓝色角大小：</span>
            <input type="range" id="angleSliderBlue" min="0" max="180" value="60" step="0.5">
            <span class="slider-label" id="angleValBlue">60°</span>
            <input type="number" id="angleInputBlue" min="0" max="180" value="60" step="0.5">
        </div>
        <div class="slider-group">
            <span class="slider-label">绿色角大小：</span>
            <input type="range" id="angleSliderGreen" min="0" max="180" value="30" step="0.5">
            <span class="slider-label" id="angleValGreen">30°</span>
            <input type="number" id="angleInputGreen" min="0" max="180" value="30" step="0.5">
        </div>
        <div class="slider-group">
            <span class="slider-label">绿色角位置：</span>
            <input type="range" id="posSliderGreen" min="0" max="360" value="90" step="0.5">
            <span class="slider-label" id="posValGreen">90°</span>
            <input type="number" id="posInputGreen" min="0" max="360" value="90" step="0.5">
        </div>
    </div>
    <!-- 信息提示 -->
    <div class="info">
        <p>蓝色角 ∠AOB = <span id="angleBlue">60</span>°</p>
        <p>绿色角 ∠COD = <span id="angleGreen">30</span>°</p>
        <p>弦AB长 = <span id="lenAB">0</span>px | 弦CD长 = <span id="lenCD">0</span>px</p>
        <p class="match-tip" id="matchTip" style="color: #e74c3c;">调整角度相等后再移动位置！</p>
    </div>

    <!-- 定理展示 -->
    <div class="theorem">
        <div class="theorem-title">圆心角性质定理</div>
        <p>在同圆或等圆中，相等的圆心角所对的弧相等，所对的弦相等。</p>
    </div>
    
    <!-- 推论展示 -->
    <div class="theorem">
        <div class="theorem-title">圆心角性质定理的推论</div>
        <p>在同圆或等圆中。圆心角、弦、弧这三组量当中。如果有一组量相等，那么其余各组量都分别相等。</p>
    </div>
    
    <p class="tip">提示：1. 调整前两个滑动条使两角相等  2. 拖动第三个滑动条移动绿色角，观察是否重合</p>

    <script>
        // DOM元素获取
        const angleSliderBlue = document.getElementById('angleSliderBlue');
        const angleSliderGreen = document.getElementById('angleSliderGreen');
        const posSliderGreen = document.getElementById('posSliderGreen');
        const angleValBlue = document.getElementById('angleValBlue');
        const angleValGreen = document.getElementById('angleValGreen');
        const posValGreen = document.getElementById('posValGreen');
        
        // 输入框元素
        const angleInputBlue = document.getElementById('angleInputBlue');
        const angleInputGreen = document.getElementById('angleInputGreen');
        const posInputGreen = document.getElementById('posInputGreen');
        
        const container = document.querySelector('.container');
        const circle = document.getElementById('circle');
        const center = document.getElementById('center');

        // 蓝色组元素
        const pointA = document.getElementById('pointA');
        const pointB = document.getElementById('pointB');
        const lineOA = document.getElementById('lineOA');
        const lineOB = document.getElementById('lineOB');
        const chordAB = document.getElementById('chordAB');
        const arcAB = document.getElementById('arcAB');
        const angleBlue = document.getElementById('angleBlue');
        const lenAB = document.getElementById('lenAB');

        // 绿色组元素
        const pointC = document.getElementById('pointC');
        const pointD = document.getElementById('pointD');
        const lineOC = document.getElementById('lineOC');
        const lineOD = document.getElementById('lineOD');
        const chordCD = document.getElementById('chordCD');
        const arcCD = document.getElementById('arcCD');
        const angleGreen = document.getElementById('angleGreen');
        const lenCD = document.getElementById('lenCD');
        const matchTip = document.getElementById('matchTip');

        // 蓝色组固定起始位置（0°）
        const blueStartPos = 0 * Math.PI / 180;

        // 动态获取容器和圆参数
        function getParams() {
            const containerW = container.offsetWidth;
            const centerX = containerW / 2;
            const centerY = containerW / 2;
            const circleRadius = circle.offsetWidth / 2;
            return { centerX, centerY, circleRadius };
        }

        // 根据起始位置和角度计算点坐标
        function calcPoint(startRadian, angleRadian, isEndPoint, circleRadius, centerX, centerY) {
            const radian = isEndPoint ? startRadian + angleRadian : startRadian;
            return {
                x: centerX + circleRadius * Math.cos(radian),
                y: centerY + circleRadius * Math.sin(radian)
            };
        }

        // 更新线段并返回长度
        function updateLine(line, x1, y1, x2, y2) {
            const length = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));
            const rotAngle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI;
            line.style.width = length + 'px';
            line.style.left = x1 + 'px';
            line.style.top = y1 + 'px';
            line.style.transform = `rotate(${rotAngle}deg)`;
            return Math.round(length);
        }

        // 更新弧
        function updateArc(arcDom, startRadian, angleRadian, circleRadius, colorCls) {
            const { centerX, centerY } = getParams();
            const arcRadius = circleRadius - 2;
            arcDom.className = `arc ${colorCls}`;
            arcDom.style.width = arcRadius * 2 + 'px';
            arcDom.style.height = arcRadius * 2 + 'px';
            arcDom.style.left = centerX - arcRadius + 'px';
            arcDom.style.top = centerY - arcRadius + 'px';

            const startAngle = startRadian * 180 / Math.PI;
            const endAngle = (startRadian + angleRadian) * 180 / Math.PI;
            const sAngle = Math.min(startAngle, endAngle);
            
            arcDom.style.borderColor = 'transparent';
            arcDom.style.borderLeftColor = getComputedStyle(arcDom).borderTopColor;
            arcDom.style.borderTopColor = getComputedStyle(arcDom).borderLeftColor;
            arcDom.style.transform = `rotate(${sAngle}deg)`;
        }

        // 检查是否重合（角度相等+位置匹配）
        function checkMatch(angleB, angleG, posG) {
            const angDiff = Math.abs(angleB - angleG);
            const posDiff = Math.abs(posG - 0) % 360; // 蓝色角起始位置是0°
            const realPosDiff = Math.min(posDiff, 360 - posDiff);
            // 角度差小于1°且位置差小于1°时判定为重合
            return angDiff < 1 && realPosDiff < 1;
        }

        // 核心渲染函数
        function renderAll() {
            const { centerX, centerY, circleRadius } = getParams();
            center.style.left = centerX + 'px';
            center.style.top = centerY + 'px';

            // 1. 渲染蓝色组∠AOB
            const angleB = parseFloat(angleSliderBlue.value);
            const radianB = angleB * Math.PI / 180;
            const A = calcPoint(blueStartPos, radianB, false, circleRadius, centerX, centerY);
            const B = calcPoint(blueStartPos, radianB, true, circleRadius, centerX, centerY);
            
            pointA.style.left = A.x + 'px';
            pointA.style.top = A.y + 'px';
            pointA.setAttribute('data-label', 'A');
            pointB.style.left = B.x + 'px';
            pointB.style.top = B.y + 'px';
            pointB.setAttribute('data-label', 'B');
            updateLine(lineOA, centerX, centerY, A.x, A.y);
            updateLine(lineOB, centerX, centerY, B.x, B.y);
            const abLen = updateLine(chordAB, A.x, A.y, B.x, B.y);
            updateArc(arcAB, blueStartPos, radianB, circleRadius, 'arc-blue');
            angleBlue.textContent = angleB;
            lenAB.textContent = abLen;
            angleValBlue.textContent = `${angleB}°`;

            // 2. 渲染绿色组∠COD
            const angleG = parseFloat(angleSliderGreen.value);
            const posG = parseFloat(posSliderGreen.value);
            const radianG = angleG * Math.PI / 180;
            const greenStartPos = posG * Math.PI / 180;
            
            const C = calcPoint(greenStartPos, radianG, false, circleRadius, centerX, centerY);
            const D = calcPoint(greenStartPos, radianG, true, circleRadius, centerX, centerY);
            
            pointC.style.left = C.x + 'px';
            pointC.style.top = C.y + 'px';
            pointC.setAttribute('data-label', 'C');
            pointD.style.left = D.x + 'px';
            pointD.style.top = D.y + 'px';
            pointD.setAttribute('data-label', 'D');
            updateLine(lineOC, centerX, centerY, C.x, C.y);
            updateLine(lineOD, centerX, centerY, D.x, D.y);
            const cdLen = updateLine(chordCD, C.x, C.y, D.x, D.y);
            updateArc(arcCD, greenStartPos, radianG, circleRadius, 'arc-green');
            angleGreen.textContent = angleG;
            lenCD.textContent = cdLen;
            angleValGreen.textContent = `${angleG}°`;
            posValGreen.textContent = `${posG}°`;

            // 3. 验证逻辑与提示
            const isAngleEqual = Math.abs(angleB - angleG) < 1;
            const isMatch = checkMatch(angleB, angleG, posG);

            if (isMatch) {
                matchTip.textContent = '✅ 完全重合！相等圆心角所对弦、弧相等！';
                matchTip.style.color = '#27ae60';
                chordCD.style.opacity = 1;
                arcCD.style.opacity = 1;
            } else if (isAngleEqual) {
                matchTip.textContent = '角度相等！拖动位置滑块可重合';
                matchTip.style.color = '#f39c12';
                chordCD.style.opacity = 0.9;
                arcCD.style.opacity = 0.9;
            } else {
                matchTip.textContent = '❌ 角度不等，无法重合！';
                matchTip.style.color = '#e74c3c';
                chordCD.style.opacity = 0.7;
                arcCD.style.opacity = 0.7;
            }
        }

        // 滑动条事件监听
        angleSliderBlue.addEventListener('input', () => {
            angleInputBlue.value = angleSliderBlue.value;
            renderAll();
        });
        
        angleSliderGreen.addEventListener('input', () => {
            angleInputGreen.value = angleSliderGreen.value;
            renderAll();
        });
        
        posSliderGreen.addEventListener('input', () => {
            posInputGreen.value = posSliderGreen.value;
            renderAll();
        });
        
        // 输入框事件监听
        angleInputBlue.addEventListener('input', () => {
            angleSliderBlue.value = angleInputBlue.value;
            renderAll();
        });
        
        angleInputGreen.addEventListener('input', () => {
            angleSliderGreen.value = angleInputGreen.value;
            renderAll();
        });
        
        posInputGreen.addEventListener('input', () => {
            posSliderGreen.value = posInputGreen.value;
            renderAll();
        });

        // 窗口自适应
        window.addEventListener('resize', renderAll);

        // 初始化渲染
        renderAll();
    </script>
</body>
</html>

