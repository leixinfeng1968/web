<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>圆的形成动画</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Arial', sans-serif; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center; 
            min-height: 100vh; 
            background-color: #f5f5f5; 
            padding: 20px;
            overflow-x: hidden;
        }
        .container { 
            text-align: center; 
            background: white; 
            padding: 2vw; 
            border-radius: 15px; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.1); 
            width: 90%; 
            max-width: 800px; 
        }
        h1 { 
            color: #2c3e50; 
            margin-bottom: 2vw; 
            font-size: clamp(24px, 5vw, 28px); 
        }
        .animation-box { 
            margin: 2vw 0; 
            position: relative; 
            width: 100%; 
        }
        svg { 
            width: 100%; 
            height: auto; 
            max-width: 400px; 
            max-height: 400px; 
            border: 1px solid #eee; 
            border-radius: 8px; 
            background-color: #fafafa; 
        }
        .center-point { fill: #2ecc71; }
        .moving-point { fill: #e74c3c; animation: pulse 1.2s infinite; }
        @keyframes pulse { 0% { r: 6; } 50% { r: 8; } 100% { r: 6; } }
        .radius-line { stroke: #3498db; stroke-width: 2; }
        /* 轨迹样式：5秒淡化 */
        .trace-segment { 
            stroke: #9b59b6; 
            stroke-width: 3; 
            fill: none; 
            stroke-linecap: round; 
            stroke-linejoin: round; 
            animation: fadeOut 5s forwards; /* 改为5秒淡化 */
        }
        @keyframes fadeOut { 
            0% { opacity: 1; } /* 前5秒完全可见 */
            100% { opacity: 0; } /* 5秒后渐变透明 */
        }
        .slider-container { 
            width: 100%; 
            max-width: 300px; /* 保持缩短后的宽度 */
            margin: 2vw auto; 
        }
        input[type="range"] { 
            width: 100%; 
            height: 8px; 
            -webkit-appearance: none; 
            background: #ecf0f1; 
            border-radius: 4px; 
            outline: none; 
        }
        input[type="range"]::-webkit-slider-thumb { 
            -webkit-appearance: none; 
            width: 20px; 
            height: 20px; 
            border-radius: 50%; 
            background: #3498db; 
            cursor: pointer; 
            transition: background 0.3s, transform 0.2s; 
        }
        input[type="range"]::-webkit-slider-thumb:hover { 
            background: #2980b9; 
            transform: scale(1.1); 
        }
        .definition { 
            background-color: #e3f2fd; 
            padding: 2vw; 
            border-radius: 10px; 
            margin-top: 2vw; 
            width: 100%; 
        }
        .definition h2 { 
            color: #1976d2; 
            margin-bottom: 1vw; 
            font-size: clamp(20px, 4vw, 22px); 
        }
        .definition p { 
            color: #263238; 
            font-size: clamp(16px, 3vw, 18px); 
            line-height: 1.6; 
        }
        .angle-display { 
            color: #7f8c8d; 
            font-size: clamp(14px, 2vw, 16px); 
            margin-top: 8px; 
        }
        /* 适配移动端 */
        @media (max-width: 480px) {
            .container { 
                padding: 3vw; 
                width: 95%; 
            }
            svg { 
                max-width: 300px; 
                max-height: 300px; 
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>圆的形成动画</h1>
        作者   雷新风
        <div class="animation-box">
            <svg id="circleSvg" viewBox="0 0 400 400">
                <!-- 固定端点（圆心） -->
                <circle cx="200" cy="200" r="6" class="center-point" />
                <text x="200" y="185" fill="#27ae60" font-size="14" text-anchor="middle">固定点 O（圆心）</text>
                
                <!-- 旋转线段（半径） -->
                <line id="radiusLine" x1="200" y1="200" x2="300" y2="200" class="radius-line" />
                
                <!-- 运动端点 -->
                <circle id="movingPoint" cx="300" cy="200" r="6" class="moving-point" />
                <text id="pointLabel" x="305" y="195" fill="#c0392b" font-size="14" text-anchor="middle">动点 P</text>
                
                <!-- 轨迹容器 -->
                <g id="traceContainer"></g>
            </svg>
        </div>
        
        <div class="slider-container">
            <input 
                type="range" 
                id="angleSlider" 
                min="0" 
                max="360" 
                value="0" 
                step="1"
            >
            <p class="angle-display">旋转角度：<span id="angleValue">0</span>°</p >
<p操作说明：拖动滑动条观察圆的形成过程</p >
        </div>
        
        <div class="definition">

            <h2>圆的定义</h2>
            <p>在同一平面内，<strong>到一个定点（圆心 O）的距离等于定长（半径 r）的所有点</strong>组成的图形叫做圆，记为⊙O。</p >
        </div>
    </div>

    <script>
        // 获取DOM元素
        const slider = document.getElementById('angleSlider');
        const angleValue = document.getElementById('angleValue');
        const radiusLine = document.getElementById('radiusLine');
        const movingPoint = document.getElementById('movingPoint');
        const pointLabel = document.getElementById('pointLabel');
        const traceContainer = document.getElementById('traceContainer');
        
        // 固定参数
        const centerX = 200;    // 圆心X坐标（基于SVG viewBox）
        const centerY = 200;    // 圆心Y坐标（基于SVG viewBox）
        const radius = 100;     // 半径长度（基于SVG viewBox）
        let lastPoint = { x: 300, y: 200 }; // 上一个动点位置
        const fadeDelay = 5000; // 轨迹淡化延迟（5000毫秒=5秒）
        
        // 滑动条事件监听
        slider.addEventListener('input', function() {
            const angle = parseInt(this.value);
            angleValue.textContent = angle;
            
            // 计算动点坐标（三角函数转换）
            const radian = (angle * Math.PI) / 180;
            const pointX = centerX + radius * Math.cos(radian);
            const pointY = centerY + radius * Math.sin(radian);
            
            // 更新线段端点
            radiusLine.setAttribute('x2', pointX);
            radiusLine.setAttribute('y2', pointY);
            
            // 更新动点位置和标签
            movingPoint.setAttribute('cx', pointX);
            movingPoint.setAttribute('cy', pointY);
            pointLabel.setAttribute('x', pointX + 8);
            pointLabel.setAttribute('y', pointY - 8);
            
            // 绘制轨迹片段（角度≥1°时）
            if (angle >= 1) {
                // 创建新的轨迹片段
                const segment = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                segment.setAttribute('d', `M ${lastPoint.x.toFixed(1)} ${lastPoint.y.toFixed(1)} L ${pointX.toFixed(1)} ${pointY.toFixed(1)}`);
                segment.setAttribute('class', 'trace-segment');
                traceContainer.appendChild(segment);
                
                // 记录当前点为下一次起点
                lastPoint = { x: pointX, y: pointY };
                
                // 5秒后删除轨迹片段
                setTimeout(() => {
                    if (segment.parentNode === traceContainer) {
                        traceContainer.removeChild(segment);
                    }
                }, fadeDelay);
            } else {
                // 角度<1°时清空轨迹
                traceContainer.innerHTML = '';
                lastPoint = { x: 300, y: 200 };
            }
        });
        
        // 窗口大小变化时自适应调整
        window.addEventListener('resize', function() {
            // SVG已通过CSS设置宽高自适应，无需额外JS调整
        });
    </script>
</body>
</html>